!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("lodash/merge")):"function"==typeof define&&define.amd?define(["exports","lodash/merge"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self)["fl-vue"]={},t.merge)}(this,(function(t,e){"use strict";function s(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var r=s(e);const o=require("axios"),n=require("axios-retry"),i=o.create();n(i,{retries:2,retryDelay:(t=0)=>1e3*Math.pow(2,t)+1e3*Math.random(),retryCondition:n.isRetryableError});var a=i,l={name:"FlLink",props:{title:{type:String},to:{type:String,required:!0},blank:{type:Boolean,default:!1}},render:function(t){return this.blank?this.createRemoteLink(t):this.$router?this.createRouterLink(t):this.createLink(t)},computed:{linkContent(){return this.$slots.default?this.$slots.default:this.title?this.title:""}},methods:{createLink(t){return t("a",{attrs:{href:this.to},class:{"fl-link":!0}},this.linkContent)},createRouterLink(t){return t("router-link",{attrs:{to:this.to},class:{"fl-link":!0,"fl-link-router":!0,[this.class]:!!this.class}},this.linkContent)},createRemoteLink(t){return t("a",{attrs:{href:this.to,target:"_blank"},class:{"fl-link":!0,"fl-link-remote":!0,[this.class]:!0}},this.linkContent)}}},c={name:"FlDropdown",data:function(){return{show:!1}},props:{container:{type:String,default:"div"},type:{type:String,default:"link"},title:{type:String,required:!0},items:{type:Array,required:!0},className:String,handlerClassName:String},components:{FlLink:l},render:function(t){const e=[];return"button"===this.type?e.push(this.createButton(t)):e.push(this.createLink(t)),e.push(this.createDropdown(t)),t(this.container,{class:{"fl-dropdown":!0,dropdown:!0,[this.className]:!!this.className}},e)},methods:{createLink(t){let e=this;return t("a",{attrs:{href:"#"},class:{[this.handlerClassName]:!!this.handlerClassName,show:this.show},on:{click:function(t){t.preventDefault(),e.show=!e.show}}},[this.title])},createButton(t){},createDropdown(t){const e=[];if(this.items)for(const s of this.items){const r=this.createDropdownLink(t,s);r&&e.push(r)}return t("ul",{class:{"dropdown-menu":!0,show:this.show}},e)},createDropdownLink(t,e){let s=this,r=t("fl-link",{class:{"dropdown-item":!0},props:{to:e.to,title:e.title},nativeOn:{click:function(t){s.show=!s.show}}});return t("li",{},[r])}}},h={name:"FlNavbar",props:{menu:{}},components:{FlLink:l,FlDropdown:c},render:function(t){return this.ce(t,"nav",this.getClasses,[this.createContainer(t)])},computed:{getClasses(){const t={"fl-footer":!0,"fl-navbar":!0,navbar:!0,"navbar-expand-lg":!0};if(this.$fj.options.navbar.class){const e=this.$fj.options.navbar.class.split(" ");for(const s of e)t[s]=!0}return t}},methods:{ce:(t,e,s,r)=>t(e,{class:s},r),createContainer(t){const e=[];if(this.menu){let s=[];Array.isArray(this.menu)?s=this.menu:s.push(this.menu);for(const r of s){let s;s=Array.isArray(r)?this.createNavbarNav(t,{items:r}):this.createNavbarNav(t,r),s&&e.push(s)}}return this.ce(t,"div","container",[this.$slots.default,...e])},createNavbarNav(t,e){if(!1===e.visible)return;const s=[];if(e.items)for(const r of e.items)if(r.dropdown){if(!Array.isArray(r.dropdown))throw new Error("Dropdown list is not an array.");const e=this.createNavDropdown(t,r);e&&s.push(e)}else{const e=this.createNavItem(t,r);e&&s.push(e)}return t("ul",{class:{"navbar-nav":!0,[e.className]:!!e.className}},s)},createNavItem(t,e){if(!1!==e.visible)return this.ce(t,"li","nav-item",[this.createNavLink(t,e)])},createNavLink:(t,e)=>t("fl-link",{class:"nav-link",props:{to:e.to}},[e.title]),createNavDropdown(t,e){if(!1!==e.visible)return t("fl-dropdown",{props:{items:e.dropdown,title:e.title,className:"nav-item",handlerClassName:"nav-link dropdown-toggle",container:"li"}})}}},d={name:"FlContent",data:function(){return{}},render:function(t){let e=t("div",{class:"row h-100"},[this.createSidebar(t),this.createContent(t)]),s=t("div",{class:"container flex-fill"},[e]);return t("div",{class:"fl-content-wrapper d-flex flex-column"},[this.createHeader(t),s])},mounted(){},computed:{hasSidebar(){return!(!this.$route.matched[0]||!this.$route.matched[0].components.sidebar)},hasHeader(){return!(!this.$route.matched[0]||!this.$route.matched[0].components.header)},getHeaderClasses(){const t={"fl-header":!0};if(this.$route.meta&&this.$route.meta.header&&this.$route.meta.header.class){const e=this.$route.meta.header.class.split(" ");for(const s of e)t[s]=!0}if(this.$fj.options.header.class){const e=this.$fj.options.header.class.split(" ");for(const s of e)t[s]=!0}return t},getSidebarClasses(){const t={"fl-sidebar":!0,"col-md-3":!0};if(this.$route.meta&&this.$route.meta.sidebar&&this.$route.meta.sidebar.class){const e=this.$route.meta.sidebar.class.split(" ");for(const s of e)t[s]=!0}if(this.$fj.options.sidebar.class){const e=this.$fj.options.sidebar.class.split(" ");for(const s of e)t[s]=!0}return t},getContentClasses(){const t={"fl-content":!0,col:!0,"h-100":!0};if(this.$route.meta&&this.$route.meta.content&&this.$route.meta.content.class){const e=this.$route.meta.content.class.split(" ");for(const s of e)t[s]=!0}if(this.$fj.options.content.class){const e=this.$fj.options.content.class.split(" ");for(const s of e)t[s]=!0}return t}},methods:{createHeader(t){if(this.hasHeader)return t("div",{class:this.getHeaderClasses},[t("router-view",{props:{name:"header"}})])},createSidebar(t){if(this.hasSidebar)return t("div",{class:this.getSidebarClasses},[t("router-view",{props:{name:"sidebar"}})])},createContent(t){return t("div",{class:this.getContentClasses},[t("router-view")])}}},u={name:"FlFooter",render:function(t){return t("div",{class:this.getClasses},this.$slots.default)},computed:{getClasses(){const t={"fl-footer":!0};if(this.$fj.options.footer.class){const e=this.$fj.options.footer.class.split(" ");for(const s of e)t[s]=!0}return t}}},f={name:"FlCode",props:{source:{type:String,required:!0},language:{type:String,default:"javascript"}},render:function(t){const e=t("pre",[this.source]);return t("code",{class:{"fl-content":!0}},[e])}},p={install(t,e){const s=r.default({options:{navbar:{},header:{class:"py-5"},sidebar:{class:"py-5",follow:!0},content:{class:"py-5"},footer:{class:"py-5"}},language:{apiError:"Got an error while loading data from the API :(",apiFailed:"We've failed in any attempt made to process this list... We suck :(",listViewing:"Viewing %limit of %total items",pagination:{previous:"Previous",next:"Next"}}},e);t.prototype.$fj=s,t.prototype.$axios=a}};t.FlAxios=a,t.FlCode=f,t.FlContent=d,t.FlDropdown=c,t.FlFooter=u,t.FlHeader={name:"FlHeader",render:function(t){return t("div",{class:{"fl-header":!0}},this.$slots.default)}},t.FlLink=l,t.FlNavbar=h,t.FlSidebar={name:"FlSidebar",render:function(t){return t("div",{class:{"fl-sidebar":!0}},this.$slots.default)}},t.default=p,Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=fl-vue.min.umd.js.map
